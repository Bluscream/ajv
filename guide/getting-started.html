<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Getting started | Ajv JSON schema validator</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/img/apple-touch-icon.png">
    <meta name="description" content="The fastest JSON schema Validator. Supports JSON Schema draft-04/06/07/2019-09/2020-12 and JSON Type Definition (RFC8927)">
    <meta charset="utf-8">
    <meta property="og:title" content="Ajv JSON schema validator">
    <meta property="og:description" content="The fastest JSON schema Validator. Supports JSON Schema draft-04/06/07/2019-09/2020-12 and JSON Type Definition (RFC8927)">
    <meta property="og:image" content="https://ajv.js.org/img/ajv.png">
    <meta itemprop="image" content="https://ajv.js.org/img/ajv.png">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Ajv JSON schema validator">
    <meta name="twitter:image:src" content="https://ajv.js.org/img/ajv.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    
    <link rel="preload" href="/assets/css/0.styles.a141f73b.css" as="style"><link rel="preload" href="/assets/js/app.fb34afb6.js" as="script"><link rel="preload" href="/assets/js/2.379d5f01.js" as="script"><link rel="preload" href="/assets/js/15.df6a326f.js" as="script"><link rel="preload" href="/assets/js/40.0f2bb449.js" as="script"><link rel="preload" href="/assets/js/24.394aaa7f.js" as="script"><link rel="preload" href="/assets/js/26.f7d2cdce.js" as="script"><link rel="prefetch" href="/assets/js/10.2894bd43.js"><link rel="prefetch" href="/assets/js/11.65ad1463.js"><link rel="prefetch" href="/assets/js/12.ff7e48f7.js"><link rel="prefetch" href="/assets/js/13.605fbfe6.js"><link rel="prefetch" href="/assets/js/14.aee8ccc4.js"><link rel="prefetch" href="/assets/js/16.15728a3a.js"><link rel="prefetch" href="/assets/js/17.45fc104d.js"><link rel="prefetch" href="/assets/js/18.aad6e136.js"><link rel="prefetch" href="/assets/js/19.0c52d000.js"><link rel="prefetch" href="/assets/js/20.1a8f0885.js"><link rel="prefetch" href="/assets/js/21.04404bd6.js"><link rel="prefetch" href="/assets/js/22.a01783af.js"><link rel="prefetch" href="/assets/js/23.33e62ddb.js"><link rel="prefetch" href="/assets/js/25.51faf66c.js"><link rel="prefetch" href="/assets/js/27.c2ebec81.js"><link rel="prefetch" href="/assets/js/28.1d6f99d8.js"><link rel="prefetch" href="/assets/js/29.6f544ca4.js"><link rel="prefetch" href="/assets/js/3.a7884e42.js"><link rel="prefetch" href="/assets/js/30.d54c4881.js"><link rel="prefetch" href="/assets/js/31.3d463e4b.js"><link rel="prefetch" href="/assets/js/32.a8bb94b9.js"><link rel="prefetch" href="/assets/js/33.588c2f7e.js"><link rel="prefetch" href="/assets/js/34.1e483ec7.js"><link rel="prefetch" href="/assets/js/35.973f55cc.js"><link rel="prefetch" href="/assets/js/36.4c4a4a24.js"><link rel="prefetch" href="/assets/js/37.6046e12a.js"><link rel="prefetch" href="/assets/js/38.33e8fd53.js"><link rel="prefetch" href="/assets/js/39.9276bcb5.js"><link rel="prefetch" href="/assets/js/4.5cc0172b.js"><link rel="prefetch" href="/assets/js/41.456fc5ea.js"><link rel="prefetch" href="/assets/js/42.7c3ed1f2.js"><link rel="prefetch" href="/assets/js/43.8e5061e0.js"><link rel="prefetch" href="/assets/js/44.48c01404.js"><link rel="prefetch" href="/assets/js/45.fb04965a.js"><link rel="prefetch" href="/assets/js/46.0771b84b.js"><link rel="prefetch" href="/assets/js/47.18eb5bcf.js"><link rel="prefetch" href="/assets/js/48.209dd450.js"><link rel="prefetch" href="/assets/js/49.3e6cedda.js"><link rel="prefetch" href="/assets/js/5.50a147d6.js"><link rel="prefetch" href="/assets/js/50.b370126b.js"><link rel="prefetch" href="/assets/js/51.876362c4.js"><link rel="prefetch" href="/assets/js/52.473fcfa3.js"><link rel="prefetch" href="/assets/js/53.9d378f70.js"><link rel="prefetch" href="/assets/js/54.5807c90a.js"><link rel="prefetch" href="/assets/js/55.974e591c.js"><link rel="prefetch" href="/assets/js/56.29559c75.js"><link rel="prefetch" href="/assets/js/57.e901428c.js"><link rel="prefetch" href="/assets/js/58.641c648f.js"><link rel="prefetch" href="/assets/js/59.648c8b9c.js"><link rel="prefetch" href="/assets/js/6.f90a17c5.js"><link rel="prefetch" href="/assets/js/60.1b496312.js"><link rel="prefetch" href="/assets/js/61.203e74f8.js"><link rel="prefetch" href="/assets/js/62.5e2bcd7a.js"><link rel="prefetch" href="/assets/js/63.75225fb0.js"><link rel="prefetch" href="/assets/js/64.d1533d4c.js"><link rel="prefetch" href="/assets/js/65.6ffdfaac.js"><link rel="prefetch" href="/assets/js/66.0c43afce.js"><link rel="prefetch" href="/assets/js/67.f4d57241.js"><link rel="prefetch" href="/assets/js/68.53716449.js"><link rel="prefetch" href="/assets/js/69.18ae9278.js"><link rel="prefetch" href="/assets/js/7.f0930be4.js"><link rel="prefetch" href="/assets/js/70.4af31d27.js"><link rel="prefetch" href="/assets/js/8.16fdb86c.js"><link rel="prefetch" href="/assets/js/9.1328af83.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a141f73b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/ajv.svg" alt="Ajv JSON schema validator" class="logo"> <span class="site-name can-hide">Ajv JSON schema validator</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guide" class="dropdown-title"><span class="title">Guide</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guide" class="mobile-dropdown-title"><span class="title">Guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/why-ajv.html" class="nav-link">
  Why use Ajv
</a></li><li class="dropdown-item"><!----> <a href="/guide/getting-started.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Getting started
</a></li><li class="dropdown-item"><!----> <a href="/guide/typescript.html" class="nav-link">
  Using with TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/guide/schema-language.html" class="nav-link">
  Choosing schema language
</a></li><li class="dropdown-item"><!----> <a href="/guide/managing-schemas.html" class="nav-link">
  Managing schemas
</a></li><li class="dropdown-item"><!----> <a href="/guide/combining-schemas.html" class="nav-link">
  Combining schemas
</a></li><li class="dropdown-item"><!----> <a href="/guide/formats.html" class="nav-link">
  Format validation
</a></li><li class="dropdown-item"><!----> <a href="/guide/modifying-data.html" class="nav-link">
  Modifying data
</a></li><li class="dropdown-item"><!----> <a href="/guide/user-keywords.html" class="nav-link">
  User-defined keywords
</a></li><li class="dropdown-item"><!----> <a href="/guide/async-validation.html" class="nav-link">
  Asynchronous validation
</a></li><li class="dropdown-item"><!----> <a href="/guide/environments.html" class="nav-link">
  Execution environments
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Reference" class="dropdown-title"><span class="title">Reference</span> <span class="arrow down"></span></button> <button type="button" aria-label="Reference" class="mobile-dropdown-title"><span class="title">Reference</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api.html" class="nav-link">
  API Reference
</a></li><li class="dropdown-item"><!----> <a href="/options.html" class="nav-link">
  Ajv options
</a></li><li class="dropdown-item"><!----> <a href="/json-schema.html" class="nav-link">
  JSON Schema
</a></li><li class="dropdown-item"><!----> <a href="/json-type-definition.html" class="nav-link">
  JSON Type Definition
</a></li><li class="dropdown-item"><!----> <a href="/strict-mode.html" class="nav-link">
  Strict mode
</a></li><li class="dropdown-item"><!----> <a href="/standalone.html" class="nav-link">
  Standalone validation code
</a></li><li class="dropdown-item"><!----> <a href="/keywords.html" class="nav-link">
  User defined keywords
</a></li><li class="dropdown-item"><!----> <a href="/coercion.html" class="nav-link">
  Type coercion rules
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn more" class="dropdown-title"><span class="title">Learn more</span> <span class="arrow down"></span></button> <button type="button" aria-label="Learn more" class="mobile-dropdown-title"><span class="title">Learn more</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Extending Ajv
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/packages/" class="nav-link">
  Extending Ajv
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-cli.html" class="nav-link">
  ajv-cli
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-errors.html" class="nav-link">
  ajv-errors
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-formats.html" class="nav-link">
  ajv-formats
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-i18n.html" class="nav-link">
  ajv-i18n
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-keywords.html" class="nav-link">
  ajv-keywords
</a></li></ul></li><li class="dropdown-item"><h4>
          Contributors
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/contributing.html" class="nav-link">
  Contributing guide
</a></li><li class="dropdown-subitem"><a href="/codegen.html" class="nav-link">
  Code generation design
</a></li><li class="dropdown-subitem"><a href="/components.html" class="nav-link">
  Code components
</a></li><li class="dropdown-subitem"><a href="/code_of_conduct.html" class="nav-link">
  Code of Conduct
</a></li></ul></li><li class="dropdown-item"><h4>
          Information
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/news/" class="nav-link">
  News
</a></li><li class="dropdown-subitem"><a href="/faq.html" class="nav-link">
  FAQ
</a></li><li class="dropdown-subitem"><a href="/security.html" class="nav-link">
  Security
</a></li><li class="dropdown-subitem"><a href="/v6-to-v8-migration.html" class="nav-link">
  Migrate from v6
</a></li><li class="dropdown-subitem"><a href="/testimonials.html" class="nav-link">
  What users say
</a></li><li class="dropdown-subitem"><a href="/license.html" class="nav-link">
  License
</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guide" class="dropdown-title"><span class="title">Guide</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guide" class="mobile-dropdown-title"><span class="title">Guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/why-ajv.html" class="nav-link">
  Why use Ajv
</a></li><li class="dropdown-item"><!----> <a href="/guide/getting-started.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Getting started
</a></li><li class="dropdown-item"><!----> <a href="/guide/typescript.html" class="nav-link">
  Using with TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/guide/schema-language.html" class="nav-link">
  Choosing schema language
</a></li><li class="dropdown-item"><!----> <a href="/guide/managing-schemas.html" class="nav-link">
  Managing schemas
</a></li><li class="dropdown-item"><!----> <a href="/guide/combining-schemas.html" class="nav-link">
  Combining schemas
</a></li><li class="dropdown-item"><!----> <a href="/guide/formats.html" class="nav-link">
  Format validation
</a></li><li class="dropdown-item"><!----> <a href="/guide/modifying-data.html" class="nav-link">
  Modifying data
</a></li><li class="dropdown-item"><!----> <a href="/guide/user-keywords.html" class="nav-link">
  User-defined keywords
</a></li><li class="dropdown-item"><!----> <a href="/guide/async-validation.html" class="nav-link">
  Asynchronous validation
</a></li><li class="dropdown-item"><!----> <a href="/guide/environments.html" class="nav-link">
  Execution environments
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Reference" class="dropdown-title"><span class="title">Reference</span> <span class="arrow down"></span></button> <button type="button" aria-label="Reference" class="mobile-dropdown-title"><span class="title">Reference</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api.html" class="nav-link">
  API Reference
</a></li><li class="dropdown-item"><!----> <a href="/options.html" class="nav-link">
  Ajv options
</a></li><li class="dropdown-item"><!----> <a href="/json-schema.html" class="nav-link">
  JSON Schema
</a></li><li class="dropdown-item"><!----> <a href="/json-type-definition.html" class="nav-link">
  JSON Type Definition
</a></li><li class="dropdown-item"><!----> <a href="/strict-mode.html" class="nav-link">
  Strict mode
</a></li><li class="dropdown-item"><!----> <a href="/standalone.html" class="nav-link">
  Standalone validation code
</a></li><li class="dropdown-item"><!----> <a href="/keywords.html" class="nav-link">
  User defined keywords
</a></li><li class="dropdown-item"><!----> <a href="/coercion.html" class="nav-link">
  Type coercion rules
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learn more" class="dropdown-title"><span class="title">Learn more</span> <span class="arrow down"></span></button> <button type="button" aria-label="Learn more" class="mobile-dropdown-title"><span class="title">Learn more</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Extending Ajv
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/packages/" class="nav-link">
  Extending Ajv
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-cli.html" class="nav-link">
  ajv-cli
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-errors.html" class="nav-link">
  ajv-errors
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-formats.html" class="nav-link">
  ajv-formats
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-i18n.html" class="nav-link">
  ajv-i18n
</a></li><li class="dropdown-subitem"><a href="/packages/ajv-keywords.html" class="nav-link">
  ajv-keywords
</a></li></ul></li><li class="dropdown-item"><h4>
          Contributors
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/contributing.html" class="nav-link">
  Contributing guide
</a></li><li class="dropdown-subitem"><a href="/codegen.html" class="nav-link">
  Code generation design
</a></li><li class="dropdown-subitem"><a href="/components.html" class="nav-link">
  Code components
</a></li><li class="dropdown-subitem"><a href="/code_of_conduct.html" class="nav-link">
  Code of Conduct
</a></li></ul></li><li class="dropdown-item"><h4>
          Information
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/news/" class="nav-link">
  News
</a></li><li class="dropdown-subitem"><a href="/faq.html" class="nav-link">
  FAQ
</a></li><li class="dropdown-subitem"><a href="/security.html" class="nav-link">
  Security
</a></li><li class="dropdown-subitem"><a href="/v6-to-v8-migration.html" class="nav-link">
  Migrate from v6
</a></li><li class="dropdown-subitem"><a href="/testimonials.html" class="nav-link">
  What users say
</a></li><li class="dropdown-subitem"><a href="/license.html" class="nav-link">
  License
</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Guide</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/why-ajv.html" class="sidebar-link">Why use AJV</a></li><li><a href="/guide/getting-started.html" aria-current="page" class="active sidebar-link">Getting started</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/getting-started.html#install" class="sidebar-link">Install</a></li><li class="sidebar-sub-header"><a href="/guide/getting-started.html#basic-data-validation" class="sidebar-link">Basic data validation</a></li><li class="sidebar-sub-header"><a href="/guide/getting-started.html#parsing-and-serializing-json" class="sidebar-link">Parsing and serializing JSON</a></li></ul></li><li><a href="/guide/typescript.html" class="sidebar-link">Using with TypeScript</a></li><li><a href="/guide/schema-language.html" class="sidebar-link">Choosing schema language</a></li><li><a href="/guide/managing-schemas.html" class="sidebar-link">Managing schemas</a></li><li><a href="/guide/combining-schemas.html" class="sidebar-link">Combining schemas</a></li><li><a href="/guide/formats.html" class="sidebar-link">Format validation</a></li><li><a href="/guide/modifying-data.html" class="sidebar-link">Modifying data during validation</a></li><li><a href="/guide/user-keywords.html" class="sidebar-link">User-defined keywords</a></li><li><a href="/guide/async-validation.html" class="sidebar-link">Asynchronous validation</a></li><li><a href="/guide/environments.html" class="sidebar-link">Execution environments</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Reference</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Extending Ajv</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Contributors</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Information</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="getting-started"><a href="#getting-started" class="header-anchor">#</a> Getting started</h1> <p></p><div class="table-of-contents"><ul><li><a href="#install">Install</a></li><li><a href="#basic-data-validation">Basic data validation</a></li><li><a href="#parsing-and-serializing-json">Parsing and serializing JSON <span class="badge tip" style="vertical-align:top;" data-v-6eb0829b>New</span></a></li></ul></div><p></p> <h2 id="install"><a href="#install" class="header-anchor">#</a> Install</h2> <div class="custom-block tip"><p class="custom-block-title">Node REPL</p> <p>You can try Ajv without installing it in the Node.js REPL: <a href="https://runkit.com/npm/ajv" target="_blank" rel="noopener noreferrer">https://runkit.com/npm/ajv<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <p>To install Ajv version 8:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> ajv
</code></pre></div><p>If you need to use Ajv with <a href="./schema-language#draft-04">JSON Schema draft-04</a>, you need to install Ajv version 6:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> ajv@6
</code></pre></div><p>See <a href="/CONTRIBUTING.html">Contributing</a> on how to run the tests locally</p> <h2 id="basic-data-validation"><a href="#basic-data-validation" class="header-anchor">#</a> Basic data validation</h2> <p>Ajv takes a schema for your JSON data and converts it into a very efficient JavaScript code
that validates your data according to the schema. To create a schema you can use either
<a href="../json-schema">JSON Schema</a> or <a href="../json-type-definition">JSON Type Definition</a> - check out <a href="./schema-language">Choosing schema language</a>, they have
different advantages and disadvantages.</p> <p>For example, to validate an object that has a required property &quot;foo&quot; (an integer number), an optional property &quot;bar&quot; (a string) and no other properties:</p> <!----> <p>Ajv compiles schemas to functions and caches them in all cases (using the schema itself as a key in a Map), so that the next time the same schema object is used it won't be compiled again.</p> <div class="custom-block tip"><p class="custom-block-title">Best performance: compile and getSchema methods</p> <p>The best performance is achieved when using compiled functions returned by <code>compile</code> or <code>getSchema</code> methods.</p> <p>While execution of the compiled validation function is very fast, its compilation is
relatively slow, so you need to make sure that you compile schemas only once and
re-use compiled validation functions. See <a href="./managing-schemas">Managing multiple schemas</a>.</p></div> <div class="custom-block warning"><p class="custom-block-title">Save errors property</p> <p>Every time a validation function (or <code>ajv.validate</code>) is called the <code>errors</code> property is overwritten. You need to copy the <code>errors</code> array reference to another variable if you want to use it later (e.g. in the callback). See <a href="/api.html#validation-errors">Validation errors</a>.</p></div> <h2 id="parsing-and-serializing-json"><a href="#parsing-and-serializing-json" class="header-anchor">#</a> Parsing and serializing JSON <span class="badge tip" style="vertical-align:top;" data-v-6eb0829b>New</span></h2> <p>Ajv can compile efficient parsers and serializers from <a href="../json-type-definition">JSON Type Definition</a> schemas.</p> <p>Serializing the data with a function specialized to your data shape can be more than 10x compared with <code>JSON.stringify</code>.</p> <p>Parsing the data replaces the need for separate validation after generic parsing with <code>JSON.parse</code> (although validation itself is usually much faster than parsing). In case your JSON string is valid, the specialized parsing is approximately as fast as JSON.parse, but in case your JSON is invalid, the specialized parsing would fail much faster - so it can be very efficient in some scenarios.</p> <p>For the same data structure, you can compile parser and serializer in this way:</p> <!----> <div class="custom-block tip"><p class="custom-block-title">Lower parsing performance of empty schemas</p> <p>You would have smaller performance benefits in case your schema contains some properties or other parts that are empty schemas (<code>{}</code>) - parser would call <code>JSON.parse</code> in this case.</p></div> <div class="custom-block warning"><p class="custom-block-title">JTD discriminator schema</p> <p>The performance of parsing discriminator schemas depends on the position of discriminator tag in the schema - the best parsing performance will be achieved if the tag is the first property - this is how compiled JTD serializers generate JSON in case of discriminator schemas.</p> <p>Also, if discriminator tag were to be repeated in JSON, the second value would be ignored and the object still validated according to the first tag.</p></div> <div class="custom-block warning"><p class="custom-block-title">Compiled parsers do NOT throw exceptions</p> <p>Compiled parsers, unlike JSON.parse, do not throw the exception in case JSON string is not a valid JSON or in case data is invalid according to the schema. As soon as the parser determines that either JSON or data is invalid, it returns <code>undefined</code> and reports error and position via parsers properties <code>message</code> and <code>position</code>.</p></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ajv-validator/ajv/edit/master/docs/guide/getting-started.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/why-ajv.html" class="prev">
        Why use AJV
      </a></span> <span class="next"><a href="/guide/typescript.html">
        Using with TypeScript
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.fb34afb6.js" defer></script><script src="/assets/js/2.379d5f01.js" defer></script><script src="/assets/js/15.df6a326f.js" defer></script><script src="/assets/js/40.0f2bb449.js" defer></script><script src="/assets/js/24.394aaa7f.js" defer></script><script src="/assets/js/26.f7d2cdce.js" defer></script>
  </body>
</html>
